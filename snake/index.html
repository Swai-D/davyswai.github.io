<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Snake — Davy Swai</title>
  <style>
    html,body{height:100%;margin:0;background:#0d1117;color:#dbe7ff;font-family:Poppins,Arial}
    .wrap{height:100%;display:flex;align-items:center;justify-content:center}
    canvas{background:#071021;border-radius:8px}
    .info{position:fixed;top:12px;left:12px;color:#9fb2ff}
    .controls{position:fixed;top:12px;right:12px;color:#9fb2ff}
    button{background:#0d63ff;color:white;border:none;padding:6px 10px;border-radius:6px}
  </style>
</head>
<body>
  <div class="info">Use arrow keys to move • Press <strong>R</strong> to restart</div>
  <div class="controls"><button id="restart">Restart</button></div>
  <div class="wrap"><canvas id="c" width="400" height="400"></canvas></div>
  <script>
    const canvas = document.getElementById('c');
    const ctx = canvas.getContext('2d');
    const grid = 20; const cols = canvas.width / grid; const rows = canvas.height / grid;
    let snake = [{x:10,y:10}]; let dir = {x:0,y:0}; let food = null; let speed = 120; let score = 0; let running = true;
    function placeFood(){
      food = {x: Math.floor(Math.random()*cols), y: Math.floor(Math.random()*rows)};
      if (snake.some(s=>s.x===food.x && s.y===food.y)) placeFood();
    }
    function draw(){
      if(!running) return;
      ctx.fillStyle='#071021'; ctx.fillRect(0,0,canvas.width,canvas.height);
      // move
      const head = {x:snake[0].x+dir.x, y:snake[0].y+dir.y};
      if(head.x<0||head.x>=cols||head.y<0||head.y>=rows||snake.some(s=>s.x===head.x&&s.y===head.y)){ running=false; return gameOver(); }
      snake.unshift(head);
      if(food && head.x===food.x && head.y===food.y){ score++; placeFood(); } else snake.pop();
      // draw food
      if(food){ ctx.fillStyle='#ff6b6b'; ctx.fillRect(food.x*grid, food.y*grid, grid-2, grid-2); }
      // draw snake
      ctx.fillStyle='#00D9FF'; snake.forEach((s,i)=>{ ctx.fillRect(s.x*grid+1, s.y*grid+1, grid-2, grid-2); });
      // score
      ctx.fillStyle='#9fb2ff'; ctx.font='14px Poppins'; ctx.fillText('Score: '+score,8,14);
    }
    function gameOver(){
      ctx.fillStyle='rgba(5,6,10,0.6)'; ctx.fillRect(0,0,canvas.width,canvas.height);
      ctx.fillStyle='#ffb4b4'; ctx.font='28px Poppins'; ctx.fillText('Game Over',110,190);
      ctx.fillStyle='#9fb2ff'; ctx.font='16px Poppins'; ctx.fillText('Press R or Restart to play again',60,220);
    }
    function loop(){ draw(); if(running) setTimeout(loop, speed); }
    function reset(){ snake=[{x:10,y:10}]; dir={x:0,y:0}; score=0; running=true; placeFood(); loop(); }
    document.addEventListener('keydown', e=>{
      if(e.key==='ArrowUp' && dir.y===0) dir={x:0,y:-1};
      if(e.key==='ArrowDown' && dir.y===0) dir={x:0,y:1};
      if(e.key==='ArrowLeft' && dir.x===0) dir={x:-1,y:0};
      if(e.key==='ArrowRight' && dir.x===0) dir={x:1,y:0};
      if(e.key==='r' || e.key==='R'){ reset(); }
    });
    document.getElementById('restart').addEventListener('click', reset);
    // start
    reset();
  </script>
</body>
</html>